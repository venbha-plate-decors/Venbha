import{r as a,e as w,j as e,m as d}from"./vendor-BlXpnA6F.js";import{u as f,H as v,l as N}from"./index-CYOw5Ryh.js";const A=()=>{const[s,g]=a.useState({email:"",password:""}),[c,l]=a.useState(!1),[r,x]=a.useState(!1),[t,o]=a.useState(""),m=w(),{signIn:b,user:p}=f();a.useEffect(()=>{p&&m("/admin_dashboard")},[p,m]);const u=i=>{g({...s,[i.target.name]:i.target.value}),t&&o("")},j=async i=>{i.preventDefault(),l(!0),o("");try{const{data:n,error:h}=await b(s.email,s.password);if(h){o(h.message||"Invalid email or password"),l(!1);return}n.user&&(localStorage.setItem("adminActiveTab","dashboard"),console.log("Login successful:",n.user))}catch(n){console.error("Login error:",n),o("An unexpected error occurred. Please try again."),l(!1)}};return e.jsxs("div",{className:"admin-login-page",children:[e.jsx(v,{children:e.jsx("title",{children:"Admin Login | Venbha Plate Decors"})}),e.jsx("div",{className:"blob blob-1"}),e.jsx("div",{className:"blob blob-2"}),e.jsxs(d.div,{className:"login-container",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:[e.jsxs("div",{className:"login-header",children:[e.jsx("img",{src:N,alt:"Venbha",className:"login-logo"}),e.jsx("h2",{children:"Admin Login"}),e.jsx("p",{children:"Welcome back! Please access the dashboard."})]}),t&&e.jsx(d.div,{className:"error-message",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},style:{backgroundColor:"#fee",color:"#c33",padding:"12px",borderRadius:"8px",marginBottom:"20px",textAlign:"center",border:"1px solid #fcc"},children:t}),e.jsxs("form",{onSubmit:j,className:"login-form",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"email",children:"Email Address"}),e.jsxs("div",{className:"input-wrapper",children:[e.jsx("span",{className:"input-icon",children:"âœ‰ï¸"}),e.jsx("input",{type:"email",id:"email",name:"email",placeholder:"admin@venbha.com",value:s.email,onChange:u,required:!0})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"password",children:"Password"}),e.jsxs("div",{className:"input-wrapper",children:[e.jsx("span",{className:"input-icon",children:"ðŸ”’"}),e.jsx("input",{type:r?"text":"password",id:"password",name:"password",placeholder:"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢",value:s.password,onChange:u,required:!0}),e.jsx("button",{type:"button",className:"toggle-password-btn text-only",onClick:()=>x(!r),"aria-label":r?"Hide password":"Show password",children:r?"Hide":"Show"})]})]}),e.jsx(d.button,{type:"submit",className:"login-btn",whileHover:{scale:1.02},whileTap:{scale:.98},disabled:c,children:c?e.jsx("span",{className:"loading-spinner"}):"Login"})]})]})]})};export{A as default};
