import{e as D,f as S,r as n,j as e,m as l}from"./vendor-C4MZbRyZ.js";import{H as k}from"./index-mavxWkP4.js";import{f as E,a as b}from"./databaseUtils-q-RdM7j6.js";const $=()=>{const{collectionSlug:c}=D(),u=S(),[t,f]=n.useState([]),[d,v]=n.useState(!0),[a,r]=n.useState(null),[g,h]=n.useState([]),[y,p]=n.useState(!1),m=s=>s.toString().toLowerCase().replace(/\s+/g,"-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-").replace(/^-+/,"").replace(/-+$/,"");n.useEffect(()=>{const s=async()=>{const{success:i,data:o}=await b();if(i&&(f(o),c)){const j=o.find(w=>m(w.name)===c);j&&x(j)}v(!1)};window.scrollTo(0,0),s()},[]),n.useEffect(()=>{if(!d&&t.length>0)if(c){const s=c.toLowerCase(),i=t.find(o=>m(o.name)===s);i?i.id!==a?.id&&x(i):r(null)}else a&&(r(null),h([]));else t.length>0&&!c&&a&&r(null)},[c,t,d]);const x=async s=>{r(s),p(!0);try{const{success:i,data:o}=await E(s.id);i&&h(o)}catch(i){console.error("Error fetching designs:",i)}finally{p(!1)}},N=s=>{u(`/collections/${m(s.name)}`)},C={hidden:{opacity:0,y:30},visible:{opacity:1,y:0,transition:{duration:.6,ease:"easeOut"}}};return e.jsxs("div",{className:"designs-page",children:[e.jsxs(k,{children:[e.jsxs("title",{children:[a?`${a.name} Designs`:"Our Collections"," | Venbha Plate Decors"]}),e.jsx("meta",{name:"description",content:"Explore our exclusive collection of plate decoration themes, from traditional seer varisai to modern engagement hampers."})]}),!a&&e.jsxs("header",{className:"page-header",children:[e.jsxs(l.h1,{className:"page-title",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.8},children:["Our ",e.jsx("span",{children:"Collections"})]}),e.jsx(l.p,{className:"page-subtitle",initial:{opacity:0},animate:{opacity:1},transition:{delay:.3,duration:.8},children:"Discover our handpicked themes designed to make every occasion magical."})]}),e.jsx("div",{className:"collections-grid-container",children:a?e.jsxs(l.div,{className:"designs-view",initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},children:[e.jsxs("div",{className:"designs-header",children:[e.jsx("h2",{children:a.name}),e.jsxs("p",{children:["Explore our exclusive ",a.name," designs"]})]}),y?e.jsxs("div",{className:"loading-container",children:[e.jsx("div",{className:"loading-spinner"}),e.jsx("p",{children:"Loading designs..."})]}):g.length===0?e.jsx("div",{className:"no-collections",children:e.jsx("p",{children:"No designs added to this collection yet."})}):e.jsx("div",{className:"designs-grid",children:g.map((s,i)=>e.jsxs(l.div,{className:"design-card",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:i*.1},children:[e.jsx("div",{className:"design-image-wrapper",children:e.jsx("img",{src:s.image,alt:s.name,className:"design-img",onClick:()=>window.open(s.image,"_blank")})}),e.jsxs("div",{className:"design-info",children:[e.jsx("h3",{children:s.name}),s.plate_count&&e.jsxs("p",{className:"plate-count",children:[s.plate_count," Sets"]})]})]},s.id))})]}):d?e.jsxs("div",{className:"loading-container",children:[e.jsx("div",{className:"loading-spinner"}),e.jsx("p",{children:"Loading collections..."})]}):t.length===0?e.jsx(l.div,{className:"no-collections",initial:{opacity:0},animate:{opacity:1},children:e.jsx("p",{children:"No collections added yet. Check back soon!"})}):e.jsx(l.div,{className:"collections-grid",children:t.map(s=>e.jsx(l.div,{className:"collection-card",variants:C,onClick:()=>N(s),children:e.jsxs("div",{className:"card-image-container",children:[e.jsx("img",{src:s.image,alt:s.name,className:"collection-img",loading:"lazy"}),e.jsxs("div",{className:"card-overlay",children:[e.jsx("h3",{className:"collection-title",children:s.name}),e.jsxs("div",{className:"explore-btn",children:[e.jsx("span",{children:"Explore Designs"}),e.jsx("span",{children:"â†’"})]})]})]})},s.id))})})]})};export{$ as default};
