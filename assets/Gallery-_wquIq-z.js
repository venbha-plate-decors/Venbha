import{R as s,j as e}from"./vendor-C4MZbRyZ.js";import{b as u,c as j}from"./databaseUtils-bm3h8eoR.js";const f=({storageKey:t="galleryImages",title:n="Our Gallery",showPhotosTitle:h=!0})=>{const[a,i]=s.useState(null),[c,o]=s.useState([]),[x,d]=s.useState(!0),r=s.useCallback(async()=>{d(!0);try{if(t==="galleryImages"){const l=await u();l.success&&o(l.data||[])}else if(t==="homeGalleryImages"){const l=await j();l.success&&o(l.data||[])}}catch(l){console.error("Error loading gallery:",l)}finally{d(!1)}},[t]);s.useEffect(()=>{r();const l=()=>r();return window.addEventListener("galleryUpdated",l),()=>window.removeEventListener("galleryUpdated",l)},[r]);const m=l=>{i(l),document.body.style.overflow="hidden"},g=()=>{i(null),document.body.style.overflow="auto"};return x?e.jsx("section",{className:"gallery-section",children:e.jsxs("div",{className:"container",children:[e.jsx("h2",{children:n}),e.jsx("div",{style:{textAlign:"center",padding:"40px"},children:e.jsx("p",{children:"Loading gallery..."})})]})}):e.jsxs("section",{className:"gallery-section",children:[e.jsxs("div",{className:"container",children:[e.jsx("h2",{children:n}),h&&c.length>0&&e.jsx("div",{className:"section-subtitle",children:"Photos"}),e.jsx("div",{className:"gallery-grid",children:c.map((l,y)=>e.jsxs("div",{className:"gallery-item",onClick:()=>m(l),children:[e.jsx("img",{src:l.url||l.src,alt:l.alt||"Gallery Image",loading:"lazy"}),e.jsx("div",{className:"gallery-overlay",children:e.jsx("span",{children:"View"})})]},l.id||y))})]}),a&&e.jsx("div",{className:"lightbox",onClick:g,children:e.jsxs("div",{className:"lightbox-content",onClick:l=>l.stopPropagation(),children:[e.jsx("button",{className:"lightbox-close",onClick:g,children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})}),e.jsx("div",{className:"lightbox-image-wrapper",children:e.jsx("img",{src:a.url||a.src,alt:a.alt})})]})})]})};export{f as G};
