import{s as a}from"./index-DnBe6X7u.js";const c=async()=>{try{const{data:r,error:e}=await a.from("gallery_images").select("*").eq("type","image").order("display_order",{ascending:!1}).order("created_at",{ascending:!1});return e?(console.error("Fetch error:",e),{success:!1,error:e}):{success:!0,data:r||[]}}catch(r){return console.error("Fetch error:",r),{success:!1,error:r}}},l=async()=>{try{const{data:r,error:e}=await a.from("gallery_images").select("*").eq("type","video").order("display_order",{ascending:!1}).order("created_at",{ascending:!1});return e?(console.error("Fetch error:",e),{success:!1,error:e}):{success:!0,data:r||[]}}catch(r){return console.error("Fetch error:",r),{success:!1,error:r}}},n=async r=>{try{const{data:{user:e}}=await a.auth.getUser(),{data:t,error:s}=await a.from("gallery_images").insert([{url:r.url,storage_path:r.storage_path,type:r.type,alt:r.alt||"Gallery Image",user_id:e?.id}]).select();return s?(console.error("Insert error:",s),{success:!1,error:s}):{success:!0,data:t[0]}}catch(e){return console.error("Insert error:",e),{success:!1,error:e}}},u=async r=>{try{const{error:e}=await a.from("gallery_images").delete().eq("id",r);return e?(console.error("Delete error:",e),{success:!1,error:e}):{success:!0}}catch(e){return console.error("Delete error:",e),{success:!1,error:e}}},d=async()=>{try{const{data:r,error:e}=await a.from("home_gallery_images").select("*").order("display_order",{ascending:!1}).order("created_at",{ascending:!1}).limit(6);return e?(console.error("Fetch error:",e),{success:!1,error:e}):{success:!0,data:r||[]}}catch(r){return console.error("Fetch error:",r),{success:!1,error:r}}},i=async r=>{try{const{data:{user:e}}=await a.auth.getUser(),{data:t,error:s}=await a.from("home_gallery_images").insert([{url:r.url,storage_path:r.storage_path,alt:r.alt||"Home Gallery Image",user_id:e?.id}]).select();return s?(console.error("Insert error:",s),{success:!1,error:s}):{success:!0,data:t[0]}}catch(e){return console.error("Insert error:",e),{success:!1,error:e}}},y=async r=>{try{const{error:e}=await a.from("home_gallery_images").delete().eq("id",r);return e?(console.error("Delete error:",e),{success:!1,error:e}):{success:!0}}catch(e){return console.error("Delete error:",e),{success:!1,error:e}}},f=async r=>{try{const e=r.map((t,s)=>a.from("gallery_images").update({display_order:r.length-s}).eq("id",t.id));return await Promise.all(e),{success:!0}}catch(e){return console.error("Update order error:",e),{success:!1,error:e}}},g=async r=>{try{const e=r.map((t,s)=>a.from("home_gallery_images").update({display_order:r.length-s}).eq("id",t.id));return await Promise.all(e),{success:!0}}catch(e){return console.error("Update order error:",e),{success:!1,error:e}}};export{l as a,d as b,g as c,u as d,y as e,c as f,n as g,i as h,f as u};
