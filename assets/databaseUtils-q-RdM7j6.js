import{s as a}from"./index-mavxWkP4.js";const c=async()=>{try{const{data:r,error:e}=await a.from("gallery_images").select("*").eq("type","image").order("display_order",{ascending:!1}).order("created_at",{ascending:!1});return e?(console.error("Fetch error:",e),{success:!1,error:e}):{success:!0,data:r||[]}}catch(r){return console.error("Fetch error:",r),{success:!1,error:r}}},n=async r=>{try{const{data:{user:e}}=await a.auth.getUser(),{data:t,error:s}=await a.from("gallery_images").insert([{url:r.url,storage_path:r.storage_path,type:r.type,alt:r.alt||"Gallery Image",user_id:e?.id}]).select();return s?(console.error("Insert error:",s),{success:!1,error:s}):{success:!0,data:t[0]}}catch(e){return console.error("Insert error:",e),{success:!1,error:e}}},l=async r=>{try{const{error:e}=await a.from("gallery_images").delete().eq("id",r);return e?(console.error("Delete error:",e),{success:!1,error:e}):{success:!0}}catch(e){return console.error("Delete error:",e),{success:!1,error:e}}},u=async()=>{try{const{data:r,error:e}=await a.from("home_gallery_images").select("*").order("display_order",{ascending:!1}).order("created_at",{ascending:!1}).limit(6);return e?(console.error("Fetch error:",e),{success:!1,error:e}):{success:!0,data:r||[]}}catch(r){return console.error("Fetch error:",r),{success:!1,error:r}}},d=async r=>{try{const{data:{user:e}}=await a.auth.getUser(),{data:t,error:s}=await a.from("home_gallery_images").insert([{url:r.url,storage_path:r.storage_path,alt:r.alt||"Home Gallery Image",user_id:e?.id}]).select();return s?(console.error("Insert error:",s),{success:!1,error:s}):{success:!0,data:t[0]}}catch(e){return console.error("Insert error:",e),{success:!1,error:e}}},i=async r=>{try{const{error:e}=await a.from("home_gallery_images").delete().eq("id",r);return e?(console.error("Delete error:",e),{success:!1,error:e}):{success:!0}}catch(e){return console.error("Delete error:",e),{success:!1,error:e}}},f=async r=>{try{const e=r.map((t,s)=>a.from("gallery_images").update({display_order:r.length-s}).eq("id",t.id));return await Promise.all(e),{success:!0}}catch(e){return console.error("Update order error:",e),{success:!1,error:e}}},y=async r=>{try{const e=r.map((t,s)=>a.from("home_gallery_images").update({display_order:r.length-s}).eq("id",t.id));return await Promise.all(e),{success:!0}}catch(e){return console.error("Update order error:",e),{success:!1,error:e}}},g=async()=>{try{const{data:r,error:e}=await a.from("collections").select("*").order("created_at",{ascending:!1});return e?(console.error("Fetch error:",e),{success:!1,error:e}):{success:!0,data:r||[]}}catch(r){return console.error("Fetch error:",r),{success:!1,error:r}}},h=async r=>{try{const{data:{user:e}}=await a.auth.getUser(),{data:t,error:s}=await a.from("collections").insert([{name:r.name,image:r.image,storage_path:r.storage_path,user_id:e?.id}]).select();return s?(console.error("Insert error:",s),{success:!1,error:s}):{success:!0,data:t[0]}}catch(e){return console.error("Insert error:",e),{success:!1,error:e}}},m=async r=>{try{const{error:e}=await a.from("collections").delete().eq("id",r);return e?(console.error("Delete error:",e),{success:!1,error:e}):{success:!0}}catch(e){return console.error("Delete error:",e),{success:!1,error:e}}},_=async(r,e)=>{try{const{data:t,error:s}=await a.from("collections").update(e).eq("id",r).select();return s?(console.error("Update error:",s),{success:!1,error:s}):{success:!0,data:t[0]}}catch(t){return console.error("Update error:",t),{success:!1,error:t}}},p=async r=>{try{const{data:e,error:t}=await a.from("designs").select("*").eq("collection_id",r).order("created_at",{ascending:!1});return t?(console.error("Fetch error:",t),{success:!1,error:t}):{success:!0,data:e||[]}}catch(e){return console.error("Fetch error:",e),{success:!1,error:e}}},w=async r=>{try{const{data:{user:e}}=await a.auth.getUser(),{data:t,error:s}=await a.from("designs").insert([{collection_id:r.collection_id,name:r.name,image:r.image,storage_path:r.storage_path,plate_count:r.plate_count,user_id:e?.id}]).select();return s?(console.error("Insert error:",s),{success:!1,error:s}):{success:!0,data:t[0]}}catch(e){return console.error("Insert error:",e),{success:!1,error:e}}},I=async r=>{try{const{error:e}=await a.from("designs").delete().eq("id",r);return e?(console.error("Delete error:",e),{success:!1,error:e}):{success:!0}}catch(e){return console.error("Delete error:",e),{success:!1,error:e}}};export{g as a,c as b,u as c,y as d,l as e,p as f,i as g,m as h,I as i,n as j,d as k,h as l,_ as m,w as n,f as u};
